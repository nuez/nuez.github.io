<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>Posts &middot; Hi, I am Teun [nuez]</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Teun van Veggel">
	<meta name="description" content="I am an independent **Drupal specialist** with over 7 years of experience building websites and web applications.">
	<meta name="keywords" content="drupal, web development">
	<meta name="generator" content="Hugo 0.41" />

	<!-- CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.css">
	<link rel="stylesheet" href="/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="//images/favicon.png" type="image/x-icon">

	<!-- RSS -->
	<link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="Hi, I am Teun [nuez]" />
		<link href="/posts/index.xml" rel="feed" type="application/rss+xml" title="Hi, I am Teun [nuez]" />

	<!-- Font Awesome -->
	<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<script src="/js/script.js"></script>
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/agate.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>

</head>

<body>
	<div class="branding">
    <a href="/"><div class="photo"></div>
    </a>
    <div class="site-title">
        <a href="/">Hi, I am Teun [nuez]</a>
    </div>

    <div class="site-description">
    I am an independent <strong>Drupal specialist</strong> with over 7 years of experience building websites and web applications.
    </div>

    <a href="/contact" class="btn">Hire me</a>
</div>
	<button class="hamburger hamburger--collapse" type="button">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
</button>
<header class="site-header">
    

    <nav class="site-nav">
        <ul>
            <li><a class="active"  href="/posts/"> Posts </a></li><li><a  href="/projects/"> Projects </a></li><li><a  href="/testimonies/"> Quotes </a></li><li><a  href="/talks/"> Talks </a></li><li><a  href="/contact/"> Hire me </a></li>
            <li>
                <ul>
                    

<li class="icon">
	<a href="/index.xml" title="Subcribe">
		<i class="fa fa-fw fa-rss"></i>
	</a>
</li>

<li class="icon">
	<a href="mailto:teun@nuezweb.com" title="Email">
		<i class="fa fa-fw fa-envelope"></i>
	</a>
</li>











<li class="icon">
	<a href="https://github.com/nuez" title="GitHub">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>





<li class="icon">
	<a href="https://www.linkedin.com/in/teunvanveggel" title="LinkedIn">
		<i class="fa fa-fw fa-linkedin"></i>
	</a>
</li>













<li class="icon">
	<a href="https://twitter.com/nuezweb" title="Twitter">
		<i class="fa fa-fw fa-twitter"></i>
	</a>
</li>









                </ul>
            </li>
        </ul>
    </nav>
</header>


	<div class="content">
		<header>
	<h1 class="title">Posts</h1>
	
	<div class="subtitle">About Drupal, coding and business.</div>
	
</header>

	<div class="posts">
	
	<div class="post-teaser">
    <header>
        <h2>
            <a class="post-link" href="/posts/saving-configuration-to-a-content-entity/">
                Saving configuration to a content entity.
            </a>
        </h2>
        <div class="meta">
	
	<span class="date">May 25, 2018</span> &middot; 4 minute read
	
</div>

    </header>
    
    <div class="excerpt">
        <p>In one of my projects I wanted to save configuration (coming from a plugin) to <strong>content entities</strong>. In Drupal however, configuration is saved to <strong>configuration entities</strong> (or <strong>configuration objects</strong>) and managed using the very solid configuration management tools.</p>

<p>If Drupal provides solid solutions for configuration, maybe the problem I was trying to solve was an <strong><em><a href="http://xyproblem.info/">XY problem</a></em></strong>? Was I trying to find the answer to the wrong question? Even the <a href="https://www.drupal.org/docs/8/configuration-management">documentation on configuration management</a> suggested content had nothing to do with configuration:</p>

<blockquote>
<p>Configuration is the collection of admin settings that determine how the site functions, <strong>as opposed to the content of the site.</strong></p>
</blockquote>

<p>However, I discovered that several contrib modules have come across the same need to <strong>save configuration to</strong> <strong><em>content entities</em></strong> and have solved this problem in different ways.</p>

<p>For example, the <a href="https://www.drupal.org/project/viewsreference">Views Reference</a> module saves configuration for rendering a View to a serialized <code>string</code> that is part of a custom Field Type. Other modules provide generic solutions that you could easily implement in your own module: the <a href="https://www.drupal.org/project/plugin">Plugin</a> module and <a href="https://www.drupal.org/project/commerce">Commerce</a> come up with an agnostic field type for saving plugin configuration of any type.</p>

<p>In this post I will try to explain how this works using an example module.</p>

<p></p>
        <br>
        <a class="btn" href="/posts/saving-configuration-to-a-content-entity/">
            Read more
        </a>
    </div>
</div><div class="post-teaser">
    <header>
        <h2>
            <a class="post-link" href="/posts/how-to-unit-test-methods-that-create-and-return-drupal-entities/">
                How to unit test methods that create and return entities in Drupal.
            </a>
        </h2>
        <div class="meta">
	
	<span class="date">March 8, 2018</span> &middot; 3 minute read
	
</div>

    </header>
    
    <div class="excerpt">
        <p>Recently I tried to create a Unit test for a Drupal service that creates and returns entities. <strong>In my test I wanted to check if the field values that were used for creating those entities were matching my assertions.</strong></p>

<p>In Drupal , the static <code>::create</code> method of any content entity returns the created entity. In my unit test, checking the returned entity for values would be a hassle, as I would have to mock and stub my way through all the services that it relies on to fetch those values. More useful would be to mock the entity and let the <code>::create()</code> method return the values that were just passed as arguments.</p>

<p><strong>Â¿Does that make any sense?</strong></p>

<p>Let me try and explain:</p>

<p></p>
        <br>
        <a class="btn" href="/posts/how-to-unit-test-methods-that-create-and-return-drupal-entities/">
            Read more
        </a>
    </div>
</div><div class="post-teaser">
    <header>
        <h2>
            <a class="post-link" href="/posts/calendar-for-freelancers/">
                How to build a super simple availability calendar.
            </a>
        </h2>
        <div class="meta">
	
	<span class="date">February 15, 2018</span> &middot; 3 minute read
	
</div>

    </header>
    
    <div class="excerpt">
        <p>As a freelancer I like my (potential) clients to be aware of my availability. I decided to build something that would allow me to fill in my availability in Google Calendar, which would then be displayed in a nice widget on the website.</p>

<p>The widget doesn&rsquo;t need to display anything but whether or not I am available or busy on a certain day. I figured that the good ol&rsquo; jQuery Datepicker would do perfectly.</p>

<p>So here&rsquo;s what I did.</p>

<h3 id="1-get-an-api-key">1. Get an API Key.</h3>

<p>When you google for accessing the Google API, most forums will point you in the direction of the OAUTH2 protocol. Using OAuth would be necessary if we wanted to access restricted content. For accessing publicly accessible content, the Google API is a lot easier. All you need is an URL and an API key.</p>

<p>Go to <a href="https://console.developers.google.com">https://console.developers.google.com</a> and create a new project. Select <code>credentials</code> and create an <em>API Key</em>.  You can restrict the use of the key although you don&rsquo;t have to. Copy the API key value somewhere: we&rsquo;ll need it in our code.</p>

<p></p>
        <br>
        <a class="btn" href="/posts/calendar-for-freelancers/">
            Read more
        </a>
    </div>
</div><div class="post-teaser">
    <header>
        <h2>
            <a class="post-link" href="/posts/computed-fields-drupal-8/">
                Create computed fields in Drupal 8.
            </a>
        </h2>
        <div class="meta">
	
	<span class="date">October 1, 2017</span> &middot; 3 minute read
	
</div>

    </header>
    
    <div class="excerpt">
        <p><em>I have updated this post as a result of <a href="https://www.drupal.org/project/drupal/issues/2392845">the issue (https://www.drupal.org/project/drupal/issues/2392845)</a> that added the  <code>ComputedItemListTrait</code> trait to core.</em></p>

<p>In Drupal 8 we have on the one hand field types with some computed <strong>field properties</strong>, and on the other hand fields that are fully computed.</p>

<p>Computed field properties are quite common in Drupal 8. An example is the <code>TextItem</code> field type. The properties <code>value</code> and <code>format</code> are stored in the database, but a third property called <code>processed</code> is computed on the fly using the <code>value</code> and the <code>format</code>.</p>

<p>When it comes to fully computed field items, there are less examples in core. It seems that in Drupal 8.5 the only fully computed field is the <code>moderation_state</code> field, provided by the Content Moderation module. The field is added to all entities that add a moderation workflow.</p>

<p>Since the <code>ComputedItemListTrait</code> was added in <a href="https://www.drupal.org/project/drupal/issues/2392845">this issue</a>, however, adding a computed field has become A lot more straightforward than it seems.</p>

<p></p>
        <br>
        <a class="btn" href="/posts/computed-fields-drupal-8/">
            Read more
        </a>
    </div>
</div><div class="post-teaser">
    <header>
        <h2>
            <a class="post-link" href="/posts/hugo-vs-drupal/">
                Hugo vs Drupal: Why I used Hugo for my Drupal portfolio website.
            </a>
        </h2>
        <div class="meta">
	
	<span class="date">August 1, 2017</span> &middot; 6 minute read
	
</div>

    </header>
    
    <div class="excerpt">
        <p><a href="https://www.drupal.org">Drupal</a> is a full-fledged CMS for secure and complex websites and applications and is adopted by many big companies and governments accross the globe. <a href="https://www.gohugo.io" target="_blank">Hugo</a> is a static site generator built in GoLang that is blazing fast and quickly gaining popularity. For this website about my Drupal work I decided to go for Hugo. Here&rsquo;s why.</p>

<p></p>
        <br>
        <a class="btn" href="/posts/hugo-vs-drupal/">
            Read more
        </a>
    </div>
</div>
</div>

	<div class="pagination">
	
</div>

	</div>

	<footer class="site-footer">
	<p class="text">&copy; 2018 - Teun van Veggel</p>
</footer>


<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-107417893-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>
